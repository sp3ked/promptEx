<!DOCTYPE html>
<html>

<head>
    <title>Promptr</title>
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;700&family=Share+Tech+Mono&family=Courier+Prime:wght@400;700&display=swap"
        rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Our CSS Files -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/components/prompts.css">
    <link rel="stylesheet" href="styles/components/community.css">
    <link rel="stylesheet" href="styles/components/settings.css">
    <link rel="stylesheet" href="styles/components/modals.css">
    <link rel="stylesheet" href="sidepanel.css">

    <script src="sidepanel.js"></script>
</head>

<body class="mode-dark">
    <div class="container">
        <div class="header">
            <h1 class="title">Promptr</h1>
            <div class="header-actions">
                <button class="btn btn-secondary" id="newPromptBtn">
                    <i class="fas fa-plus"></i> New Prompt
                </button>
            </div>
        </div>

        <!-- Tabs Navigation -->
        <div class="tabs">
            <div class="tab active" data-tab="prompts"><i class="fas fa-file-alt"></i> Prompts</div>
            <div class="tab" data-tab="community"><i class="fas fa-users"></i> Community</div>
            <div class="tab" data-tab="generate"><i class="fas fa-magic"></i> Generate</div>
            <div class="tab" data-tab="settings"><i class="fas fa-cog"></i> Settings</div>
        </div>

        <!-- Tab Content Container -->
        <div class="tab-contents-container">
            <!-- Prompts Tab Content -->
            <div class="tab-content active" id="promptsTab">
                <div class="search-sort-container" id="promptsSearchContainer">
                    <div class="search-input-wrapper">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" id="searchInput" placeholder="Search prompts...">
                    </div>
                </div>
                <div class="prompts-container" id="promptsContainer">
                    <!-- User's prompts will be dynamically loaded here by JavaScript -->
                </div>
            </div>

            <!-- Community Tab Content -->
            <div class="tab-content" id="communityTab">
                <div class="search-sort-container" id="communitySearchContainer">
                    <div class="search-input-wrapper">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" id="communitySearchInput" placeholder="Search community prompts...">
                    </div>
                </div>

                <!-- Modified to show sections vertically -->
                <div class="community-sections-wrapper">
                    <!-- Trending Section -->
                    <div class="community-section">
                        <h3 class="section-title">Trending Prompts</h3>
                        <div class="prompts-container">
                            <div class="prompt-card" data-prompt-id="trending-1">
                                <h3 class="prompt-title">
                                    <span class="prompt-title-text">UI/UX Design Review</span>
                                    <div class="title-buttons">
                                        <button class="btn-icon btn-copy" title="Copy to clipboard"><i
                                                class="fas fa-copy"></i></button>
                                        <button class="btn-icon btn-send send" title="Send to active tab"><i
                                                class="fas fa-paper-plane"></i></button>
                                    </div>
                                </h3>
                                <p class="prompt-content">Analyze this UI design for usability issues and suggest
                                    improvements. Please consider:

                                    1. Accessibility concerns
                                    2. User flow optimization
                                    3. Visual hierarchy</p>
                                <div class="prompt-meta">
                                    <span>By: DesignPro</span>
                                </div>
                            </div>
                            <div class="prompt-card" data-prompt-id="trending-2">
                                <h3 class="prompt-title">
                                    <span class="prompt-title-text">Research Paper Summary</span>
                                    <div class="title-buttons">
                                        <button class="btn-icon btn-copy" title="Copy to clipboard"><i
                                                class="fas fa-copy"></i></button>
                                        <button class="btn-icon btn-send send" title="Send to active tab"><i
                                                class="fas fa-paper-plane"></i></button>
                                    </div>
                                </h3>
                                <p class="prompt-content">Create a concise summary of this research paper, highlighting
                                    key
                                    findings. Please include:

                                    1. The main research question/objective
                                    2. Methodology overview
                                    3. Key results and discoveries</p>
                                <div class="prompt-meta">
                                    <span>By: AcademicWriter</span>
                                </div>
                            </div>
                            <div class="prompt-card" data-prompt-id="trending-3">
                                <h3 class="prompt-title">
                                    <span class="prompt-title-text">Product Description Generator</span>
                                    <div class="title-buttons">
                                        <button class="btn-icon btn-copy" title="Copy to clipboard"><i
                                                class="fas fa-copy"></i></button>
                                        <button class="btn-icon btn-send send" title="Send to active tab"><i
                                                class="fas fa-paper-plane"></i></button>
                                    </div>
                                </h3>
                                <p class="prompt-content">Create compelling product descriptions based on these key
                                    features
                                    and benefits. The descriptions should:

                                    1. Hook the reader with a strong opening
                                    2. Highlight unique selling points
                                    3. Address customer pain points</p>
                                <div class="prompt-meta">
                                    <span>By: MarketingGuru</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Top Rated Section -->
                    <div class="community-section">
                        <h3 class="section-title">Top Rated Prompts</h3>
                        <div class="prompts-container">
                            <div class="prompt-card" data-prompt-id="rated-1">
                                <h3 class="prompt-title">
                                    <span class="prompt-title-text">Python Debugging Assistant</span>
                                    <div class="title-buttons">
                                        <button class="btn-icon btn-copy" title="Copy to clipboard"><i
                                                class="fas fa-copy"></i></button>
                                        <button class="btn-icon btn-send send" title="Send to active tab"><i
                                                class="fas fa-paper-plane"></i></button>
                                    </div>
                                </h3>
                                <p class="prompt-content">Analyze my Python code and identify bugs, logic errors, and
                                    performance issues. Please check for:

                                    1. Syntax errors
                                    2. Logic flaws
                                    3. Performance bottlenecks</p>
                                <div class="prompt-meta">
                                    <span>By: CodeMaster</span>
                                </div>
                            </div>
                            <div class="prompt-card" data-prompt-id="rated-2">
                                <h3 class="prompt-title">
                                    <span class="prompt-title-text">Travel Itinerary Planner</span>
                                    <div class="title-buttons">
                                        <button class="btn-icon btn-copy" title="Copy to clipboard"><i
                                                class="fas fa-copy"></i></button>
                                        <button class="btn-icon btn-send send" title="Send to active tab"><i
                                                class="fas fa-paper-plane"></i></button>
                                    </div>
                                </h3>
                                <p class="prompt-content">Help me create a detailed travel itinerary for my upcoming
                                    trip to
                                    [DESTINATION]. Please include:

                                    1. Daily schedule with attractions
                                    2. Restaurant recommendations
                                    3. Transportation options</p>
                                <div class="prompt-meta">
                                    <span>By: AdventureSeeker</span>
                                </div>
                            </div>
                            <div class="prompt-card" data-prompt-id="rated-3">
                                <h3 class="prompt-title">
                                    <span class="prompt-title-text">Recipe Creator</span>
                                    <div class="title-buttons">
                                        <button class="btn-icon btn-copy" title="Copy to clipboard"><i
                                                class="fas fa-copy"></i></button>
                                        <button class="btn-icon btn-send send" title="Send to active tab"><i
                                                class="fas fa-paper-plane"></i></button>
                                    </div>
                                </h3>
                                <p class="prompt-content">Create a delicious recipe based on these ingredients I have
                                    available: [LIST INGREDIENTS]. The recipe should:

                                    1. Be relatively easy to make
                                    2. Include all preparation steps
                                    3. Provide cooking times and temperatures</p>
                                <div class="prompt-meta">
                                    <span>By: ChefExtraordinaire</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Jailbreak Section -->
                    <div class="community-section">
                        <h3 class="section-title">Jailbreak Prompts</h3>
                        <div class="prompts-container">
                            <div class="placeholder jailbreak-placeholder">
                                <p><i class="fas fa-lock"></i> Jailbreak prompts coming soon!</p>
                                <p class="placeholder-subtitle">Advanced prompt techniques will be available in a future
                                    update.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Generate Tab Content -->
            <div class="tab-content" id="generateTab">
                <div class="placeholder">
                    <p>Generate feature coming soon!</p>
                </div>
            </div>

            <!-- Settings Tab Content -->
            <div class="tab-content" id="settingsTab">
                <div class="settings-content">
                    <form id="settingsForm">
                        <div class="settings-section appearance-section">
                            <h3 class="settings-section-title">Appearance</h3>
                            <div class="option">
                                <label for="themeSelect">Theme</label>
                                <select id="themeSelect">
                                    <option value="light">Light</option>
                                    <option value="dark">Dark</option>
                                </select>
                            </div>
                            <div class="option">
                                <label for="fontSizeSelect">Font Size</label>
                                <select id="fontSizeSelect">
                                    <option value="14">Small</option>
                                    <option value="16">Medium</option>
                                    <option value="18">Large</option>
                                </select>
                            </div>
                        </div>

                        <div class="settings-section behavior-section">
                            <h3 class="settings-section-title">Behavior</h3>
                            <div class="option switch-option">
                                <label for="autoSaveToggle">Auto-save prompts</label>
                                <label class="switch">
                                    <input type="checkbox" id="autoSaveToggle">
                                    <span class="slider round"></span>
                                </label>
                            </div>
                        </div>

                        <div class="settings-actions">
                            <button type="button" class="btn btn-tertiary" id="resetSettingsBtn">
                                <i class="fas fa-undo"></i> Reset
                            </button>
                            <button type="button" class="btn btn-primary" id="saveSettingsBtn">
                                <i class="fas fa-save"></i> Save
                            </button>
                        </div>
                    </form>

                    <div class="settings-section account-section">
                        <h3 class="settings-section-title">Account</h3>
                        <div class="account-info-preview">
                            <p><strong>Account Status:</strong> <span class="free-account">Free Account</span></p>
                            <p><strong>Prompts Stored:</strong> <span id="promptCount">0</span> / 50</p>
                            <p><strong>Version:</strong> 1.0.0</p>
                        </div>
                        <button class="btn btn-outline btn-full" id="accountBtn">
                            <i class="fas fa-user"></i> Manage Account
                        </button>
                    </div>

                    <div class="settings-section faq-section">
                        <h3 class="settings-section-title">Help</h3>
                        <button class="btn btn-outline btn-full" id="faqBtn">
                            <i class="fas fa-question-circle"></i> FAQ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <div class="modal" id="deleteModal">
        <div class="modal-content">
            <h3>Confirm Delete</h3>
            <p>Are you sure you want to delete this prompt?</p>
            <div class="modal-actions">
                <button class="btn btn-tertiary" id="cancelDeleteBtn">
                    <i class="fas fa-times"></i> Cancel
                </button>
                <button class="btn btn-delete" id="confirmDeleteBtn">
                    <i class="fas fa-trash"></i> Delete
                </button>
            </div>
        </div>
    </div>

    <div class="modal" id="viewEditModal">
        <div class="modal-content view-edit-modal">
            <div class="modal-header">
                <h3 id="viewEditTitle">View Prompt</h3>
                <div class="modal-actions">
                    <button class="btn btn-icon" id="closeViewEditBtn" title="Close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <textarea class="prompt-textarea" id="viewEditTextarea"></textarea>
            <div class="modal-actions">
                <button class="btn btn-delete" id="deleteFromViewBtn" title="Delete">
                    <i class="fas fa-trash"></i>
                </button>
                <button class="btn btn-tertiary" id="copyFromViewBtn" title="Copy">
                    <i class="fas fa-copy"></i>
                </button>
                <button class="btn btn-primary" id="sendFromViewBtn" title="Send">
                    <i class="fas fa-paper-plane"></i>
                </button>
                <button class="btn btn-secondary" id="saveFromViewBtn">
                    <i class="fas fa-save"></i> Save Changes
                </button>
            </div>
        </div>
    </div>

    <div class="modal" id="newPromptModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create New Prompt</h3>
                <div class="modal-actions">
                    <button class="btn btn-icon" id="closeNewPromptBtn" title="Close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="input-group">
                <label for="newPromptTitle">Title</label>
                <input type="text" id="newPromptTitle" class="prompt-input"
                    placeholder="Enter a title for your prompt...">
            </div>
            <div class="input-group">
                <label for="newPromptTextarea">Content</label>
                <textarea class="prompt-textarea" id="newPromptTextarea"
                    placeholder="Enter your prompt here..."></textarea>
            </div>
            <div class="modal-actions">
                <button class="btn btn-tertiary" id="cancelNewPromptBtn">
                    <i class="fas fa-times"></i> Cancel
                </button>
                <button class="btn btn-primary" id="createNewPromptBtn">
                    <i class="fas fa-plus"></i> Create
                </button>
            </div>
        </div>
    </div>

    <!-- View Community Prompt Modal -->
    <div class="modal" id="viewCommunityPromptModal">
        <div class="modal-content view-community-modal">
            <div class="modal-header">
                <h3 id="viewCommunityPromptTitle">Prompt Title</h3>
                <div class="modal-actions">
                    <button class="btn btn-icon" id="closeViewCommunityPromptBtn" title="Close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="prompt-view-container">
                <div class="prompt-view-content" id="viewCommunityPromptContent">
                    Prompt content will appear here...
                </div>
                <div class="prompt-view-meta">
                    <p id="viewCommunityPromptAuthor">Created by: Author</p>
                </div>
            </div>
            <div class="modal-actions">
                <div>
                    <button class="btn btn-secondary" id="saveToMyPromptsBtn" title="Save to my prompts">
                        <i class="fas fa-save"></i> Save to My Prompts
                    </button>
                </div>
                <div>
                    <button class="btn btn-tertiary" id="copyFromViewPromptBtn" title="Copy">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <button class="btn btn-primary" id="sendFromViewPromptBtn" title="Send">
                        <i class="fas fa-paper-plane"></i> Send
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- FAQ Modal -->
    <div class="modal" id="faqModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Frequently Asked Questions</h3>
                <div class="modal-actions">
                    <button class="btn btn-icon" id="closeFaqBtn" title="Close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="faq-content">
                <div class="faq-item">
                    <h4>What is Promptr?</h4>
                    <p>Promptr is a prompt management tool that helps you save, organize, and reuse prompts for AI chat
                        platforms like ChatGPT, Claude, and Grok.</p>
                </div>
                <div class="faq-item">
                    <h4>How do I edit a prompt?</h4>
                    <p>Click on any prompt card TITLE to open the edit view, make your changes, and click "Save
                        Changes".</p>
                </div>
                <div class="faq-item">
                    <h4>How do I use Promptr?</h4>
                    <p>Create prompts using the "New Prompt" button, then use the "Send" button to inject them into
                        supported AI chat interfaces or copy them to your clipboard.</p>
                </div>
                <div class="faq-item">
                    <h4>Which platforms are supported?</h4>
                    <p>Promptr currently supports ChatGPT, Claude, Grok, and Gemini. More platforms will
                        be added in future updates.</p>
                </div>
                <div class="faq-item">
                    <h4>Where are my prompts stored?</h4>
                    <p>Your prompts are stored locally in your browser's storage. They do not sync across devices yet,
                        but this feature is coming soon.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Account Modal -->
    <div class="modal" id="accountModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Account Information</h3>
                <div class="modal-actions">
                    <button class="btn btn-icon" id="closeAccountBtn" title="Close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="account-content">
                <div class="account-info">
                    <p><strong>Account Status:</strong> <span class="free-account">Free Account</span></p>
                    <p><strong>Prompts Stored:</strong> <span id="promptCount">0</span> / 50</p>
                    <p><strong>Version:</strong> 1.0.0</p>
                </div>
                <div class="account-upgrade" style="margin-top: 16px;">
                    <h4>Upgrade to Pro (Coming Soon)</h4>
                    <ul class="feature-list">
                        <li><i class="fas fa-check"></i> Unlimited prompts</li>
                        <li><i class="fas fa-check"></i> Cloud sync across devices</li>
                        <li><i class="fas fa-check"></i> Prompt categories and tags</li>
                        <li><i class="fas fa-check"></i> Advanced prompt features</li>
                    </ul>
                    <button class="btn btn-secondary" id="upgradeBtn" disabled>
                        <i class="fas fa-crown"></i> Upgrade Coming Soon
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Load JavaScript modules in correct dependency order -->
    <!-- First load utility modules -->
    <script src="js/utils/ui.js"></script>
    <script src="js/utils/storage.js"></script>
    <script src="js/utils/injection.js"></script>

    <!-- Then load tab modules -->
    <script src="js/tabs/prompts.js"></script>
    <script src="js/tabs/community.js"></script>
    <script src="js/tabs/settings.js"></script>

    <!-- Finally load the main app -->
    <script src="js/main.js"></script>

    <!-- Initialize the app -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize all modules
            const app = new App();
        });
    </script>
</body>

</html>